<!DOCTYPE html>
<html>
<head>
    <title>Task Management</title>
    <link rel="stylesheet" href="/styles.css" />
</head>
<body>
<h1>Task Management</h1>
<p>Server started at <%= startTime %> (<%= hoursRunning %> hours and <%= minutesRunning %> minutes ago)</p>
<h2>Add Task</h2>
<form action="/add-task" method="POST">
    <input type="text" name="taskName" placeholder="Task name" required />
    <button type="submit">Add Task</button>
</form>
<hr />
<% sections.forEach(section => { %>
    <h2><%= section.title %></h2>
    <table id="<%= section.title %>">
        <thead>
        <tr>
            <th onclick="sortTable(0, '<%= section.title %>')">
                ID
            </th>
            <th onclick="sortTable(1, '<%= section.title %>')">
                Title
            </th>
            <th onclick="sortTable(2, '<%= section.title %>')">
                Description
            </th>
            <th onclick="sortTable(3, '<%= section.title %>')">
                Status
            </th>
            <th onclick="sortTable(4, '<%= section.title %>')">
                Actions
            </th>
        </tr>
        </thead>
        <tbody>
        <% section.tasks.forEach(task => { %>
            <%- include('partials/taskRow', { task: task }) %>
        <% }) %>
        </tbody>
    </table>
    <% if (section.showDeleteSelected) { %>
        <form id="delete-selected-tasks-form" action="/delete-selected-tasks" method="POST">
            <button type="submit">DELETE SELECTED</button>
        </form>
    <% } %>
<% }) %>
<script src="/javascripts/main.js"></script>
<script src="/javascripts/sort.js"></script>
</body>
</html>



